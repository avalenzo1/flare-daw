"use strict";const e=require("electron"),n=require("path");process.env.ROOT=n.join(__dirname,"..");process.env.DIST=n.join(process.env.ROOT,"dist-electron");process.env.VITE_PUBLIC=process.env.VITE_DEV_SERVER_URL?n.join(process.env.ROOT,"public"):n.join(process.env.ROOT,".output/public");process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";let o;const r=n.join(process.env.DIST,"preload.js");function t(){o=new e.BrowserWindow({webPreferences:{preload:r,nodeIntegrationInWorker:!0,contextIsolation:!1,nodeIntegration:!0,webSecurity:!1}}),process.env.VITE_DEV_SERVER_URL?(o.loadURL(process.env.VITE_DEV_SERVER_URL),o.webContents.openDevTools()):o.loadFile(n.join(process.env.VITE_PUBLIC,"index.html")),e.ipcMain.handle("open-project",async s=>(console.log(s),await e.dialog.showOpenDialog({properties:["openFile","multiSelections"],filters:[{name:"JavaScript Object Notation",extensions:["json"]}]}))),e.ipcMain.handle("save-project",async s=>await e.dialog.showSaveDialog({})),e.ipcMain.handle("open-directory",async s=>await e.dialog.showOpenDialog({properties:["openDirectory"]}))}e.app.whenReady().then(t);
